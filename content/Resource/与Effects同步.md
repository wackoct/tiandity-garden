---
date created: 2022-09-28
date modified: 2022-09-29
---

一些组件需要和外部系统同步  
Effects 允许您在渲染后运行一些代码，以便您可以将组件与 React 外部的某个系统同步

什么是Effects，它和事件有什么不同？

- 渲染代码
- 事件处理器

Effects 允许您指定由渲染本身而不是由特定事件引起的副作用

不要急于向组件添加 Effects  
**Effects 通常用于“退出”您的 React 代码并与某些外部系统同步。**

如何编写Effect

1. 声明 Effect
2. 指定 Effect 依赖
3. 如果需要添加 cleanup 函数

useEffect 会“延迟”一段代码的运行，直到该渲染反映在屏幕上

空的依赖关系数组 （[]） 对应于组件“挂载”，即被添加到屏幕中

在React中，渲染应该是JSX的纯粹计算，不应该包含修改 DOM 等副作用

在开发过程中如何处理两次 Effect 发射？

- 控制非 React 窗体
- 订阅事件
- 触发动画
- 获取数据
- 发送分析

每个渲染都有自己的 Effects
